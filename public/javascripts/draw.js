!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=15)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(12),n=s(11),o=s(10),r=s(9),a=s(8),l=s(7),c=s(6);var h;!function(t){t[t.LINE=0]="LINE",t[t.RECTANGLE=1]="RECTANGLE",t[t.TRIANGLE=2]="TRIANGLE",t[t.CIRCLE=3]="CIRCLE",t[t.SMILEY=4]="SMILEY",t[t.SVG=5]="SVG"}(h=e.ShapeType||(e.ShapeType={}));e.default=class{static create(t,e,s,d,u){let f;switch(t){case h.LINE:f=new a.default(e,s,d,u);break;case h.RECTANGLE:f=new i.default(e,s,d,u);break;case h.TRIANGLE:f=new n.default(e,s,d,u);break;case h.CIRCLE:f=new o.default(e,s,d,u);break;case h.SMILEY:f=new r.default(e,s,d,u);break;case h.SVG:f=new l.default(e,s,d,u,new c.default("/brushes/bird.svg"));break;default:throw new Error("Invalid Shape Type!")}return f}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.RED="#FF0000",t.GREEN="#00FF00",t.BLUE="#0000FF",t.YELLOW="#FFFF00",t.BLACK="#000000"}(e.Color||(e.Color={})),e.VALID_COLOR="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SHAPE=0]="SHAPE"}(e.ToolID||(e.ToolID={}))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this.x=t,this.y=e}set(t,e){this.x=t,this.y=e}setPoint(t){this.x=t.x,this.y=t.y}clone(){return new i(this.x,this.y)}}e.default=i},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(3),n=s(0);e.default=class{constructor(t){this.start=new i.default(0,0),this.end=new i.default(0,0),this.history=t.history,this.settings=t,this.tempShape=n.default.create(this.settings.activeTool,this.start,this.end,this.settings.activeColor,this.settings.fill),this.down=!1}click(t){this.down=!0,this.start.set(t.clientX,t.clientY-this.settings.menuHeight)}move(t){this.down&&(this.tempShape=n.default.create(this.settings.activeTool,this.start,this.end,this.settings.activeColor,this.settings.fill),this.tempShape.end.set(t.clientX,t.clientY-this.settings.menuHeight))}release(t){this.end.set(t.clientX,t.clientY-this.settings.menuHeight),this.history.push(n.default.create(this.settings.activeTool,this.start.clone(),this.end.clone(),this.settings.activeColor,this.settings.fill)),this.down=!1}renderAll(t){this.history.forEach(e=>e.render(t))}undo(t,e,s){this.history.length>0&&(t.clearRect(0,0,e,s),this.tempShape.start.set(0,0),this.tempShape.end.set(0,0),this.history.pop(),this.renderAll(t))}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n=s(1);e.default=class{constructor(t,e=n.Color.BLACK,s=i.ShapeType.LINE){this.activeColor=e,this.menuHeight=t,this.activeTool=s,this.history=[],this.fill=!1}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.loaded=!1,this.img=new Image,this.img.addEventListener("load",()=>this.loaded=!0),this.src=t,this.img.src=t}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s,i,n){this.start=t,this.end=e,this.color=s,this.fill=i,this.vectorImage=n}render(t){this.vectorImage.loaded&&t.drawImage(this.vectorImage.img,this.start.x,this.start.y)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s,i){this.start=t,this.end=e,this.color=s,this.fill=i}render(t){t.beginPath(),t.strokeStyle=this.color,t.moveTo(this.start.x,this.start.y),t.lineTo(this.end.x,this.end.y),t.stroke()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s,i){this.start=t,this.end=e,this.color=s,this.fill=i}render(t){const e=Math.abs(this.end.x-this.start.x);t.beginPath(),t.strokeStyle=this.color,t.arc(this.start.x,this.start.y,e,0,2*Math.PI,!0),t.moveTo(this.start.x+.7*e,this.start.y),t.arc(this.start.x,this.start.y,.7*e,0,Math.PI,!1),t.moveTo(this.start.x-.3*e+.1*e,this.start.y-.2*e),t.arc(this.start.x-.3*e,this.start.y-.2*e,.1*e,0,2*Math.PI,!1),t.moveTo(this.start.x+.3*e+.1*e,this.start.y-.2*e),t.arc(this.start.x+.3*e,this.start.y-.2*e,.1*e,0,2*Math.PI,!0),t.stroke()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s,i){this.start=t,this.end=e,this.color=s,this.fill=i}render(t){const e=Math.abs(this.end.x-this.start.x);0!==e&&(t.beginPath(),t.strokeStyle=this.color,t.arc(this.start.x,this.start.y,e,0,2*Math.PI,!0),this.fill?(t.fillStyle=this.color,t.fill()):t.stroke())}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s,i){this.start=t,this.end=e,this.color=s,this.fill=i}render(t){t.beginPath(),t.strokeStyle=this.color,t.fillStyle=this.color,t.moveTo(this.start.x,this.start.y),t.lineTo(this.start.x,this.end.y),t.lineTo(this.end.x,this.start.y),t.closePath(),this.fill?t.fill():t.stroke()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,s,i){this.start=t,this.end=e,this.color=s,this.fill=i}render(t){t.beginPath(),t.rect(this.start.x,this.start.y,this.end.x-this.start.x,this.end.y-this.start.y),this.fill?(t.fillStyle=this.color,t.fill()):(t.strokeStyle=this.color,t.stroke())}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),n=s(0);e.default=class{constructor(t){this.element=t,this.submenus=[]}static createEditMenu(t,e,s,i){const n=[],o=document.createElement("li"),r=document.createElement("a");return r.setAttribute("href","#"),r.setAttribute("id","Undo".toLowerCase()),r.appendChild(document.createTextNode("Undo")),o.appendChild(r),o.classList.add("menuEntry"),o.addEventListener("click",()=>{e.undo(s,i.width,i.height)}),n.push(o),n}static createColorMenu(t){const e=[];["Red","Black","Blue","Yellow"].forEach(s=>{const n=document.createElement("li"),o=document.createElement("a");o.setAttribute("href","#"),o.setAttribute("id",s.toLowerCase()),o.appendChild(document.createTextNode(s)),n.appendChild(o),n.classList.add("menuEntry"),n.addEventListener("click",()=>{t.activeColor=i.Color[s.toUpperCase()]}),e.push(n)});const s=document.createElement("form"),n=document.createElement("input");return n.setAttribute("type","color"),n.setAttribute("accept",i.VALID_COLOR),n.addEventListener("change",()=>{t.activeColor=n.value}),s.appendChild(n),s.classList.add("menuEntry"),e.push(s),e}static createShapesMenu(t){const e=[];return["Line","Rectangle","Triangle","Circle","Smiley","Svg"].forEach(s=>{const i=document.createElement("li"),o=document.createElement("a");o.setAttribute("href","#"),o.setAttribute("id",s.toLowerCase()),o.appendChild(document.createTextNode(s)),i.appendChild(o),i.classList.add("menuEntry"),i.addEventListener("click",()=>{t.activeTool=n.ShapeType[s.toUpperCase()]}),e.push(i)}),e}static createOptionsMenu(t){const e=[],s=document.createElement("li"),i=document.createElement("input");return i.setAttribute("type","checkbox"),i.setAttribute("id","Fill".toLowerCase()),s.appendChild(document.createTextNode("Fill")),s.appendChild(i),s.classList.add("menuEntry"),s.addEventListener("click",()=>{t.fill=!t.fill,console.log(t.fill)}),e.push(s),e}addMenu(t,e=[]){let s=document.createElement("li"),i=document.createElement("a");if(i.setAttribute("href","#"),i.appendChild(document.createTextNode(t)),s.appendChild(i),s.classList.add("submenu"),s.setAttribute("id",t.toLowerCase()),e.length>0){const t=document.createElement("ul");t.classList.add("submenu-content"),s.appendChild(t),e.forEach(e=>{t.appendChild(e)})}this.submenus[t.toLowerCase()]=s,this.element.appendChild(s)}getMenu(t){return this.submenus.hasOwnProperty(t.toLowerCase())?this.submenus[t.toLowerCase()]:null}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2);e.default=class{constructor(t,e,s,n){this.menuBar=e,this.canvas=t,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight-this.menuBar.offsetHeight,this.context=s,this.toolBox=n,this.activeTool=this.toolBox.get(i.ToolID.SHAPE)}init(){this.canvas.addEventListener("mousedown",t=>this.activeTool.click(t)),this.canvas.addEventListener("mousemove",t=>{this.activeTool.move(t),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.activeTool.renderAll(this.context),this.activeTool.tempShape.render(this.context)}),this.canvas.addEventListener("mouseup",t=>{this.activeTool.release(t),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.activeTool.renderAll(this.context)})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(14),n=s(13),o=s(5),r=s(4),a=s(2);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("pane"),e=t.getContext("2d"),s=document.getElementById("menuBar"),l=new o.default(s.offsetHeight),c=new n.default(s),h=new Map;h.set(a.ToolID.SHAPE,new r.default(l)),c.addMenu("File"),c.addMenu("Edit",n.default.createEditMenu(l,h.get(a.ToolID.SHAPE),e,t)),c.addMenu("Color",n.default.createColorMenu(l)),c.addMenu("Shapes",n.default.createShapesMenu(l)),c.addMenu("Options",n.default.createOptionsMenu(l)),c.addMenu("Help"),new i.default(t,s,e,h).init()})}]);
//# sourceMappingURL=draw.js.map